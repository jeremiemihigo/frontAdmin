"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[473],{866473:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var r=n(747313),o=n(809019),a=n(261113),i=n(448310),s=n(645624),l=n(483213),c=n(209478),d=n(42832),p=n(346417);const u=e=>{let{title:t,count:n}=e;return(0,p.jsx)(c.Z,{contentSX:{p:2.25},children:(0,p.jsxs)(d.Z,{spacing:.5,children:[(0,p.jsx)(a.Z,{variant:"h6",color:"textSecondary",children:t}),(0,p.jsx)(o.ZP,{container:!0,alignItems:"center",children:(0,p.jsx)(o.ZP,{item:!0,children:n?(0,p.jsx)(a.Z,{variant:"h4",color:"inherit",children:n}):(0,p.jsx)(a.Z,{variant:"h6",sx:{textAlign:"center"},color:"inherit",children:"Loading"})})})]})})};u.defaultProps={color:"primary"};const x=u;var m=n(185554),h=n(416031),f=n.n(h),g=n(358446),v=n(661395),Z=n(835662);const j=()=>{const[e,t]=(0,r.useState)(),[n,o]=(0,r.useState)(),[a,i]=(0,r.useState)(),[s,l]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{(async()=>{l(!0);try{const e=await Z.Z.get(v.V6+"/demandePourChaquePeriode",v.vc);i(e.data),l(!1)}catch(e){console.log(e)}})()}),[]),(0,r.useEffect)((()=>{(()=>{if(a&&a.length>0)try{let e=[],n=[];for(let t=0;t<a.length;t++)e.push(a[t].total),n.push(a[t]._id);t({chart:{id:"basic-bar"},xaxis:{categories:n}}),o([{name:"Demande au total",data:e}])}catch(e){console.log(e)}})()}),[a]),(0,p.jsx)("div",{children:s?(0,p.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"20rem"},children:(0,p.jsx)("p",{style:{textAlign:"center"},children:"Loading..."})}):e&&n&&(0,p.jsx)(g.Z,{options:e,series:n,type:"line",height:345})})};var y=n(46123),b=n.n(y),w=n(600205),S=n(983169),P=n(74714),C=n(583447),W=n(373239);const k=["wrap","nowrap","wrap-reverse"],M=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],D=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];const N=function(e,t){return b()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const n={};return k.forEach((r=>{n["".concat(e,"-wrap-").concat(r)]=t.wrap===r})),n})(e,t)),((e,t)=>{const n={};return D.forEach((r=>{n["".concat(e,"-align-").concat(r)]=t.align===r})),n["".concat(e,"-align-stretch")]=!t.align&&!!t.vertical,n})(e,t)),((e,t)=>{const n={};return M.forEach((r=>{n["".concat(e,"-justify-").concat(r)]=t.justify===r})),n})(e,t)))},O=e=>{const{componentCls:t}=e;return{[t]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},R=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},B=e=>{const{componentCls:t}=e,n={};return k.forEach((e=>{n["".concat(t,"-wrap-").concat(e)]={flexWrap:e}})),n},E=e=>{const{componentCls:t}=e,n={};return D.forEach((e=>{n["".concat(t,"-align-").concat(e)]={alignItems:e}})),n},A=e=>{const{componentCls:t}=e,n={};return M.forEach((e=>{n["".concat(t,"-justify-").concat(e)]={justifyContent:e}})),n},T=(0,C.I$)("Flex",(e=>{const{paddingXS:t,padding:n,paddingLG:r}=e,o=(0,W.TS)(e,{flexGapSM:t,flexGap:n,flexGapLG:r});return[O(o),R(o),B(o),E(o),A(o)]}),(()=>({})));var I=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const F=r.forwardRef(((e,t)=>{const{prefixCls:n,rootClassName:o,className:a,style:i,flex:s,gap:l,children:c,vertical:d=!1,component:p="div"}=e,u=I(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:x,direction:m,getPrefixCls:h}=r.useContext(P.E_),f=h("flex",n),[g,v]=T(f),Z=null!==d&&void 0!==d?d:null===x||void 0===x?void 0:x.vertical,j=b()(a,o,null===x||void 0===x?void 0:x.className,f,v,N(f,e),{["".concat(f,"-rtl")]:"rtl"===m,["".concat(f,"-gap-").concat(l)]:(0,S.n)(l),["".concat(f,"-vertical")]:Z}),y=Object.assign(Object.assign({},null===x||void 0===x?void 0:x.style),i);return s&&(y.flex=s),l&&!(0,S.n)(l)&&(y.gap=l),g(r.createElement(p,Object.assign({ref:t,className:j,style:y},(0,w.Z)(u,["justify","wrap","align"])),c))}));const G=F;var L=n(99885),z=n(966149),X=n(896467),V=n(233604),Y=n(850301),K=n(323870);const H=r.forwardRef((function(e,t){return(0,p.jsx)(Y.Z,{direction:"up",ref:t,...e})})),_=()=>{const[e,t]=r.useState(!0),n=(0,m.v9)((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.user})),[o,i]=r.useState({first:"",second:""}),[s,l]=r.useState("");return(0,p.jsxs)(z.Z,{open:e,TransitionComponent:H,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[(0,p.jsx)(V.Z,{children:(0,p.jsx)(a.Z,{component:"p",sx:{fontSize:"12px"},children:"Modifiez le mot de passe par d\xe9faut"})}),(0,p.jsxs)(X.Z,{children:[""!==s&&(0,p.jsx)("p",{style:{fontSize:"12px",marginBottom:"10px",color:"red"},children:s}),(0,p.jsx)("div",{style:{marginBottom:"10px"},children:(0,p.jsx)(K.default,{type:"password",placeholder:"Mot de passe",onChange:e=>i({...o,first:e.target.value})})}),(0,p.jsx)("div",{style:{marginBottom:"10px"},children:(0,p.jsx)(K.default,{type:"password",placeholder:"Repeter le mot de passe",onChange:e=>i({...o,second:e.target.value})})}),(0,p.jsx)(G,{vertical:!0,gap:"small",style:{width:"100%"},children:(0,p.jsx)(L.ZP,{onClick:e=>(async e=>{e.preventDefault();try{o.first!==o.second?l("Le mot de passe n'est pas conforme"):"1234"===o.first?l("mot de passe par d\xe9faut \xe0 modifier"):200===(await Z.Z.put(v.V6+"/userAdmin",{codeAgent:n&&n.codeAgent,ancien:"1234",nouvelle:o.first})).status&&t(!1)}catch(r){console.log(r)}})(e),type:"primary",block:!0,children:"Midifier"})})]})]})},q=()=>{var e,t,n;const d=(0,m.v9)((e=>e.user.user)),u=(0,m.v9)((e=>e.zone)),h=(0,m.v9)((e=>e.agent)),g=(0,m.v9)((e=>e.periodeActive)),v=(0,m.v9)((e=>e.reponse)),[Z,y]=r.useState();return r.useEffect((()=>{if(v&&v.reponse.length>0){let e=f().groupBy(v.reponse,"agent.nom");y(Object.entries(e))}}),[v]),(0,p.jsxs)(o.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[d&&d.first&&(0,p.jsx)(_,{}),(0,p.jsx)(o.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,p.jsx)(a.Z,{variant:"h5",children:"Dashboard"})}),(0,p.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,p.jsx)(x,{title:"R\xe9gions enregistr\xe9es",count:null===u||void 0===u||null===(e=u.zone)||void 0===e?void 0:e.length})}),(0,p.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,p.jsx)(x,{title:"Agents & Techniciens",count:null===h||void 0===h||null===(t=h.agent)||void 0===t?void 0:t.length})}),(0,p.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,p.jsx)(x,{title:"Mois actif",count:null===g||void 0===g||null===(n=g.periodeActive)||void 0===n?void 0:n.periode})}),(0,p.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,p.jsx)(x,{title:"Visites d\xe9but du mois \xe0 date",count:null===v||void 0===v?void 0:v.reponse.length})}),(0,p.jsx)(o.ZP,{item:!0,md:8,sx:{display:{sm:"none",md:"block",lg:"none"}}}),(0,p.jsxs)(o.ZP,{item:!0,xs:12,md:7,lg:8,children:[(0,p.jsxs)(o.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,p.jsx)(o.ZP,{item:!0,children:(0,p.jsx)(a.Z,{variant:"h5",children:"Variation des visites"})}),(0,p.jsx)(o.ZP,{item:!0})]}),(0,p.jsx)(c.Z,{sx:{mt:2},content:!1,children:(0,p.jsx)(j,{})})]}),(0,p.jsxs)(o.ZP,{item:!0,xs:12,md:5,lg:4,children:[(0,p.jsxs)(o.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,p.jsx)(o.ZP,{item:!0,children:(0,p.jsx)(a.Z,{variant:"h5",children:"stat C.O d\xe9but du mois \xe0 date"})}),(0,p.jsx)(o.ZP,{item:!0})]}),(0,p.jsx)(c.Z,{sx:{mt:2},content:!1,children:(0,p.jsxs)(i.Z,{sx:{p:0,"& .MuiListItemButton-root":{py:2}},children:[!Z&&(0,p.jsx)("p",{style:{textAlign:"center"},children:"Loading..."}),Z&&Z.map(((e,t)=>(0,p.jsxs)(s.Z,{divider:!0,children:[(0,p.jsx)(l.Z,{primary:e[0]}),(0,p.jsxs)(a.Z,{variant:"h5",children:[(100*e[1].length/(null===v||void 0===v?void 0:v.reponse.length)).toFixed(0),"%"]})]},t)))]})})]})]})}},896467:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(747313),o=n(683061),a=n(221921),i=n(617592),s=n(577342),l=n(177430),c=n(132298);function d(e){return(0,c.Z)("MuiDialogContent",e)}(0,l.Z)("MuiDialogContent",["root","dividers"]);var p=n(893174),u=n(346417);const x=(0,i.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",...n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(p.Z.root," + &")]:{paddingTop:0}}}})),m=r.forwardRef((function(e,t){const n=(0,s.Z)({props:e,name:"MuiDialogContent"}),{className:r,dividers:i=!1,...l}=n,c={...n,dividers:i},p=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,a.Z)(r,d,t)})(c);return(0,u.jsx)(x,{className:(0,o.Z)(p.root,r),ownerState:c,ref:t,...l})}))},233604:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(747313),o=n(683061),a=n(221921),i=n(261113),s=n(617592),l=n(577342),c=n(893174),d=n(963909),p=n(346417);const u=(0,s.ZP)(i.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),x=r.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiDialogTitle"}),{className:i,id:s,...x}=n,m=n,h=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"]},c.a,t)})(m),{titleId:f=s}=r.useContext(d.Z);return(0,p.jsx)(u,{component:"h2",className:(0,o.Z)(h.root,i),ownerState:m,ref:t,variant:"h6",id:null!=s?s:f,...x})}))},893174:(e,t,n)=>{n.d(t,{Z:()=>i,a:()=>a});var r=n(177430),o=n(132298);function a(e){return(0,o.Z)("MuiDialogTitle",e)}const i=(0,r.Z)("MuiDialogTitle",["root"])},966149:(e,t,n)=>{n.d(t,{Z:()=>P});var r=n(747313),o=n(683061),a=n(221921),i=n(328334),s=n(691615),l=n(125673),c=n(632530),d=n(270501),p=n(577342),u=n(617592),x=n(177430),m=n(132298);function h(e){return(0,m.Z)("MuiDialog",e)}const f=(0,x.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var g=n(963909),v=n(91554),Z=n(319860),j=n(346417);const y=(0,u.ZP)(v.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),b=(0,u.ZP)(l.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),w=(0,u.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat((0,s.Z)(n.scroll))]]}})((e=>{let{ownerState:t}=e;return{height:"100%","@media print":{height:"auto"},outline:0,..."paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},..."body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}})),S=(0,u.ZP)(d.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat((0,s.Z)(n.scroll))],t["paperWidth".concat((0,s.Z)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},..."paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},..."body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},...!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},..."xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(f.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},...n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(f.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},...n.fullWidth&&{width:"calc(100% - 64px)"},...n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(f.paperScrollBody)]:{margin:0,maxWidth:"100%"}}}})),P=r.forwardRef((function(e,t){const n=(0,p.Z)({props:e,name:"MuiDialog"}),l=(0,Z.Z)(),u={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{"aria-describedby":x,"aria-labelledby":m,BackdropComponent:f,BackdropProps:v,children:P,className:C,disableEscapeKeyDown:W=!1,fullScreen:k=!1,fullWidth:M=!1,maxWidth:D="sm",onBackdropClick:N,onClose:O,open:R,PaperComponent:B=d.Z,PaperProps:E={},scroll:A="paper",TransitionComponent:T=c.Z,transitionDuration:I=u,TransitionProps:F,...G}=n,L={...n,disableEscapeKeyDown:W,fullScreen:k,fullWidth:M,maxWidth:D,scroll:A},z=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e,l={root:["root"],container:["container","scroll".concat((0,s.Z)(n))],paper:["paper","paperScroll".concat((0,s.Z)(n)),"paperWidth".concat((0,s.Z)(String(r))),o&&"paperFullWidth",i&&"paperFullScreen"]};return(0,a.Z)(l,h,t)})(L),X=r.useRef(),V=(0,i.Z)(m),Y=r.useMemo((()=>({titleId:V})),[V]);return(0,j.jsx)(b,{className:(0,o.Z)(z.root,C),closeAfterTransition:!0,components:{Backdrop:y},componentsProps:{backdrop:{transitionDuration:I,as:f,...v}},disableEscapeKeyDown:W,onClose:O,open:R,ref:t,onClick:e=>{X.current&&(X.current=null,N&&N(e),O&&O(e,"backdropClick"))},ownerState:L,...G,children:(0,j.jsx)(T,{appear:!0,in:R,timeout:I,role:"presentation",...F,children:(0,j.jsx)(w,{className:(0,o.Z)(z.container),onMouseDown:e=>{X.current=e.target===e.currentTarget},ownerState:L,children:(0,j.jsx)(S,{as:B,elevation:24,role:"dialog","aria-describedby":x,"aria-labelledby":V,...E,className:(0,o.Z)(z.paper,E.className),ownerState:L,children:(0,j.jsx)(g.Z.Provider,{value:Y,children:P})})})})})}))},963909:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(747313).createContext({})},983169:(e,t,n)=>{function r(e){return["small","middle","large"].includes(e)}function o(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}n.d(t,{T:()=>o,n:()=>r})}}]);