"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[945],{803105:(e,n,t)=>{t.d(n,{Z:()=>r});var o=t(624631),a=t(876767),s=t(648623),l=t(346417);const i=(0,a.D)();const r=function(e){let{value:n,setValue:t,options:a,title:r,propr:c}=e;return(0,l.jsx)(s.Z,{value:n,onChange:(e,n)=>{"string"===typeof n?t({title:n}):n&&n.inputValue?t({title:n.inputValue}):t(n)},filterOptions:(e,n)=>i(e,n),selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"free-solo-with-text-demo",options:a,getOptionLabel:e=>"string"===typeof e?e:e.inputValue?e.inputValue:e[""+c],renderOption:(e,n)=>(0,l.jsx)("li",{...e,children:n[""+c]}),sx:{width:"100%"},freeSolo:!0,renderInput:e=>(0,l.jsx)(o.Z,{...e,label:r||"Titre"})})}},680509:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(936373),a=t(346417);const s=function(e){const{message:n,open:t,setOpen:s}=e;return(0,a.jsx)("div",{children:(0,a.jsx)(o.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t,onClose:()=>{s(!1)},message:n},"bottom center")})}},792628:(e,n,t)=>{t.d(n,{Z:()=>u});var o=t(747313),a=t(582294),s=t(565280),l=t(261113),i=t(557829),r=t(346417);function c(e){const{children:n,value:t,index:o,...a}=e;return(0,r.jsx)("div",{role:"tabpanel",hidden:t!==o,id:"simple-tabpanel-".concat(o),"aria-labelledby":"simple-tab-".concat(o),...a,children:t===o&&(0,r.jsx)(i.Z,{sx:{p:3},children:(0,r.jsx)(l.Z,{component:"div",children:n})})})}function d(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function p(e){let{titres:n,components:t}=e;const[l,p]=o.useState(0);return(0,r.jsxs)(i.Z,{sx:{width:"100%"},children:[(0,r.jsx)(i.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,r.jsx)(a.Z,{value:l,onChange:(e,n)=>{p(n)},"aria-label":"icon label tabs example",style:{padding:"0px",margin:"0px"},children:n.map(((e,n)=>(0,o.createElement)(s.Z,{label:e.label,...d(e.id),key:n})))})}),t.map(((e,n)=>(0,r.jsx)(c,{value:l,index:e.id,children:e.component},n)))]})}const u=o.memo(p)},571659:(e,n,t)=>{t.d(n,{Z:()=>l});t(747313);var o=t(70816),a=t.n(o),s=(t(208890),t(346417));const l=function(e){let{demandes:n}=e;return(0,s.jsx)("div",{className:"chats",children:n&&n.length>0&&n.map((e=>(0,s.jsxs)("div",{className:"co"===e.sender?"co":"agent",children:[(0,s.jsx)("p",{children:e.message}),(0,s.jsxs)("p",{style:{fontSize:"11px"},children:[(0,s.jsx)("span",{style:{textAlign:"center"},children:e.codeAgent}),(0,s.jsx)("span",{style:{float:"right"},children:a()(e.createdAt).fromNow()})]})]},e._id)))})}},108262:(e,n,t)=>{t.d(n,{Z:()=>L});var o=t(747313),a=t(661395),s=t(950381),l=(t(421331),t(792628)),i=t(835662),r=t(323870),c=t(185554),d=t(346417);const{TextArea:p}=r.default;const u=function(e){let{demande:n,update:t}=e;const[s,l]=(0,o.useState)(""),r=(0,c.v9)((e=>{var n;return null===(n=e.user)||void 0===n?void 0:n.user}));return(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)(p,{required:!0,value:s,onKeyUp:e=>(e=>{if(t&&13===e.keyCode&&""!==s){l("");const e={_id:t.demande._id,message:s,sender:"co",codeAgent:null===r||void 0===r?void 0:r.codeAgent};i.Z.post(a.V6+"/reclamation",e,a.vc).then((()=>{l("")})).catch((function(e){console.log(e)}))}if(n&&13===e.keyCode&&""!==s){l("");const e={_id:n._id,message:s,sender:"co",codeAgent:null===r||void 0===r?void 0:r.codeAgent};i.Z.post(a.V6+"/reclamation",e,a.vc).then((()=>{l("")})).catch((function(e){console.log(e)}))}})(e),onChange:e=>{e.preventDefault(),l(e.target.value)},placeholder:"Message",autoSize:{minRows:3,maxRows:5}})})})};var m=t(809019),x=t(624631),h=t(369099),g=t(371207),v=t(808425),j=t(65387),f=t(754381),Z=t(803105),y=t(557829),C=t(301550),S=t(116429),b=t(183929),w=t(644758),D=t(680509),P=t(157983),k=t(585281),N=t(91554);const W=function(e){let{update:n}=e;const t=(0,c.v9)((e=>e.zone.zone)),[l,r]=o.useState(""),[p,u]=o.useState(""),[W,E]=o.useState(!1),[T,M]=o.useState(!1),[A,z]=o.useState({codeCu:"",codeClient:"",consExpDays:"",nomClient:""}),O=e=>{const{name:n,value:t}=e.target;z({...A,[n]:t})},{demande:R}=(0,o.useContext)(s.R),{codeCu:L,codeClient:I,consExpDays:B,nomClient:F}=A;let[V,U]=o.useState({payement:"",statut:""});const{payement:K,statut:_}=V,[q,G]=o.useState(""),[H,J]=o.useState(!1);function Y(){z({codeCu:"",codeClient:"",consExpDays:"",nomClient:""}),U({payement:"",statut:""}),r(""),u("")}console.log(R);const X=(0,c.v9)((e=>e.reponse)),[Q,$]=o.useState(""),ee=e=>{$(""),z({...A,consExpDays:e});let n="",t="";return e>=0&&(n="installed",t="normal"),e>=-30&&e<=-1&&(n="installed",t="expired"),e>=-44&&e<=-31&&(n="installed",t="defaulted"),e<=-45&&(n="pending repossession",t="defaulted"),isNaN(e)&&(n="",t=""),U({payement:t,statut:n}),{payement:t,statut:n}},ne=(0,c.v9)((e=>{var n;return null===(n=e.user)||void 0===n?void 0:n.user})),te=(0,c.I0)(),oe=()=>{if(l&&p&&l.idZone!==p.idZone)G("Veuillez v\xe9rifier si le shop est enregistr\xe9 dans la region selection\xe9e"),J(!0);else if(ne&&"co"!==ne.fonction)G("Cette espace est reserv\xe9e aux C.O"),J(!0),M(!1);else if(R.shopAgent.idShop!==p.idShop)G("y a pas une conformit\xe9 entre le shop du client << ".concat(p.shop," >> et celui de l'agent << ").concat(R.shopAgent.shop," >>")),J(!0);else{E(!0);const e={idDemande:R.idDemande,codeClient:I.toUpperCase(),codeCu:L,codeAgent:null===ne||void 0===ne?void 0:ne.codeAgent,clientStatut:_,PayementStatut:K,consExpDays:B,nomClient:F,idZone:l.idZone,idShop:p.idShop};te((0,j.Z1)(e)),E(!1),Y()}};o.useEffect((()=>{if(n){let e={consExpDays:n.consExpDays,codeClient:n.codeclient,codeCu:n.codeCu};ee(n.consExpDays),z({...A,...e})}}),[n]);const ae=(e,n)=>{n.preventDefault(),$(e),U("inactive"===e?{payement:"terminated",statut:"inactive"}:{payement:"pending fulfliment",statut:"pending activation"})},se=async()=>{if(I.length>10){M(!0);const e=await i.Z.get("".concat(a.V6,"/customer/").concat(I));200===e.status?(z({...A,codeCu:e.data.customer_cu,nomClient:e.data.nomClient,consExpDays:""}),u(e.data.shop),r(e.data.region),M(!1)):(M(!1),z({...A,codeCu:"",nomClient:"",consExpDays:""}),r(""),u(""))}};return(0,d.jsxs)(m.ZP,{children:["pending"===X.postDemande&&(0,d.jsx)(N.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:!0,children:(0,d.jsx)("div",{children:(0,d.jsxs)("p",{style:{textAlign:"center",margin:"0px",padding:"0px"},children:["Sending ",null===R||void 0===R?void 0:R.idDemande,"..."]})})}),"rejected"===X.postDemande&&(0,d.jsx)(f.Z,{variant:"filled",severity:"error",children:X.postDemandeError}),H&&(0,d.jsx)(D.Z,{message:q,open:H,setOpen:J}),(0,d.jsxs)(m.ZP,{container:!0,children:[(0,d.jsx)(m.ZP,{item:!0,lg:10,xs:10,children:(0,d.jsx)(x.Z,{style:{marginTop:"10px"},onChange:e=>O(e),name:"codeClient",onKeyUp:e=>(e=>{13===e.keyCode&&se()})(e),autoComplete:"off",fullWidth:!0,value:I,label:"Code du Client"})}),(0,d.jsx)(m.ZP,{item:!0,lg:2,xs:2,sx:{display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"center"},children:T?(0,d.jsx)(k.Z,{size:15}):(0,d.jsx)(P.default,{onClick:e=>se(),fontSize:"small"})})]}),(0,d.jsx)(x.Z,{style:{marginTop:"10px"},onChange:e=>O(e),name:"nomClient",autoComplete:"off",fullWidth:!0,value:F,label:"Nom du Client"}),(0,d.jsx)(x.Z,{style:{marginTop:"10px"},onChange:e=>O(e),value:L,name:"codeCu",autoComplete:"off",fullWidth:!0,label:"Code CU"}),(0,d.jsxs)(m.ZP,{container:!0,children:[(0,d.jsx)(m.ZP,{item:!0,lg:6,sm:6,xs:12,sx:{marginTop:"10px"},children:(0,d.jsx)(Z.Z,{value:l,setValue:r,options:t,title:t&&t.length<1?"Loading...":"Regions",propr:"denomination"})}),(0,d.jsx)(m.ZP,{item:!0,lg:6,sm:6,xs:12,sx:{marginTop:"10px"},children:""!==l&&null!==l&&(0,d.jsx)(Z.Z,{value:p,setValue:u,options:l&&l.shop,title:"Shop",propr:"shop"})})]}),(0,d.jsxs)("div",{className:"expiredDate",children:[(0,d.jsx)(x.Z,{onChange:e=>ee(e.target.value),style:{marginTop:"10px"},name:"consExpDays",autoComplete:"off",fullWidth:!0,onKeyUp:n?()=>{}:e=>(e=>{13===e.keyCode&&oe()})(e),value:B,label:"consExpDays"}),(0,d.jsxs)(y.Z,{sx:{display:"flex"},children:[(0,d.jsx)(C.Z,{component:"fieldset",variant:"standard",children:(0,d.jsx)(S.Z,{children:(0,d.jsx)(b.Z,{onClick:e=>ae("inactive",e),control:(0,d.jsx)(w.Z,{name:"inactive",checked:"inactive"===Q}),label:"Inactive"})})}),(0,d.jsx)(C.Z,{component:"fieldset",variant:"standard",children:(0,d.jsx)(S.Z,{children:(0,d.jsx)(b.Z,{onClick:e=>ae("pending",e),control:(0,d.jsx)(w.Z,{name:"pending",checked:"pending"===Q}),label:"Pending activation"})})})]})]}),(0,d.jsx)(x.Z,{style:{marginTop:"10px"},onChange:e=>{e.preventDefault(),U({...V,statut:e.target.value})},name:"statut",autoComplete:"off",fullWidth:!0,value:_,label:"Statut du client"}),(0,d.jsx)(x.Z,{style:{marginTop:"10px"},onChange:e=>{e.preventDefault(),U({...V,payement:e.target.value})},name:"payement",autoComplete:"off",fullWidth:!0,value:K,label:"Statut Payement"}),(0,d.jsx)("div",{style:{marginTop:"10px"},children:(0,d.jsxs)(h.Z,{disabled:!((R||n)&&!W),fullWidth:!0,variant:"contained",color:"primary",onClick:n?()=>(async()=>{J(!1),i.Z.put(a.V6+"/reponse",{idReponse:n._id,data:{codeclient:I,nomClient:F,codeCu:L,clientStatut:_,PayementStatut:K,consExpDays:B}},a.vc).then((e=>{G(e.data),Y(),J(!0)})).catch((e=>{console.log(e)}))})():e=>{e.preventDefault(),oe()},children:[n?(0,d.jsx)(g.Z,{fontSize:"small"}):(0,d.jsx)(v.Z,{fontSize:"small"})," ",(0,d.jsxs)("span",{style:{marginLeft:"10px"},children:[" ",n?"Update":"Save"]})]})})]})};var E=t(261113),T=t(396180),M=t(846968),A=t(527952),z=t(571659);function O(e){const{update:n}=e,{demande:t}=(0,o.useContext)(s.R),i=[{id:0,component:(0,d.jsx)(W,{update:n})},{id:1,component:(0,d.jsx)(u,{demande:t,update:n})}],r=e=>!e&&"red",[c,p]=T.ZP.useMessage();function x(e){let{demandes:n}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"demandeJsx",style:{textAlign:"justify"},children:[(0,d.jsxs)("p",{children:["ID demande : ",n.idDemande]}),(0,d.jsxs)(E.Z,{component:"p",className:"codeClient",onClick:()=>{return e=n.codeclient,navigator.clipboard.writeText(e),void c.open({type:"success",content:"Done "+e,duration:2});var e},style:{color:r(n.codeclient)},children:["code client : ",n.codeclient&&n.codeclient.toUpperCase()]}),(0,d.jsxs)("p",{style:{color:r(n.numero)},children:["Num\xe9ro joignable du client: ",n.numero]}),(0,d.jsxs)("p",{children:["Statut du client : ","".concat("allumer"===n.statut?"allum\xe9":"\xe9teint")," "]}),(0,d.jsxs)("p",{children:["Feedback : ",n.raison.toLowerCase()]})]}),(0,d.jsx)(z.Z,{demandes:n.conversation})]})}return(0,d.jsxs)(m.ZP,{container:!0,children:[(0,d.jsx)(d.Fragment,{children:p}),(0,d.jsx)(m.ZP,{item:!0,lg:6,children:t||n?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(M.Z,{size:12,children:(0,d.jsx)(A.Z,{width:200,src:"".concat(a.BP,"/").concat(n?n.demande.file:t.file),placeholder:(0,d.jsx)(A.Z,{preview:!1,src:"".concat(a.BP,"/").concat(n?n.demande.file:t.file),width:200})})}),t&&!n&&(0,d.jsx)(x,{demandes:t}),n&&(0,d.jsx)(x,{demandes:n.demande})]}):(0,d.jsx)("p",{style:R.center,children:"Veuillez selectionner la demande"})}),(0,d.jsx)(m.ZP,{item:!0,lg:6,children:(0,d.jsx)(l.Z,{titres:[{id:0,label:"Reponse"},{id:1,label:"Feedback"}],components:i})})]})}const R={span:{color:"#0078",fontWeight:"bold",marginRight:"5px",marginLeft:"5px"},center:{textAlign:"center",color:"red"}},L=o.memo(O)},924795:(e,n,t)=>{t.r(n),t.d(n,{default:()=>W});var o=t(747313),a=t(557829),s=t(605178),l=t(301550),i=t(116429),r=t(183929),c=t(644758),d=t(809019),p=t(369099),u=t(861689),m=t(873428),x=t(261113),h=t(835662),g=t(661395),v=t(108262),j=t(323870),f=t(846968),Z=t(527952),y=t(435045),C=t(181171),S=t(346417);const b=(0,C.Z)((0,S.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");var w=t(334811);const D=function(){const[e,n]=o.useState(""),[t,a]=o.useState(),[s,l]=o.useState(!1),[i,r]=o.useState(!1),[c,C]=o.useState(!0),[D,P]=o.useState(),k=async n=>{n.preventDefault(),C(!1);try{l(!0),a();const n=await h.Z.get("".concat(g.V6,"/oneReponse/").concat(e),g.vc);"token expired"===n.data?(localStorage.removeItem("auth"),window.location.replace("/token")):(a(n.data),l(!1))}catch(t){l(!1)}};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(d.ZP,{container:!0,children:[(0,S.jsx)(d.ZP,{item:!0,lg:8,children:(0,S.jsx)(j.default,{type:"text",value:e,onChange:e=>(e=>{e.preventDefault(),n(e.target.value)})(e),onKeyUp:n=>(async n=>{13===n.keyCode&&""!==e&&k(n)})(n),placeholder:"Account ID"})}),(0,S.jsx)(d.ZP,{item:!0,lg:2,sx:{paddingLeft:"10px"},children:(0,S.jsxs)(p.Z,{disabled:s,onClick:e=>k(e),variant:"contained",color:"primary",children:[(0,S.jsx)(y.Z,{fontSize:"small"})," ",s?"Loading...":"Recherche"]})}),!c&&(0,S.jsx)(d.ZP,{item:!0,lg:2,sx:{paddingLeft:"10px",cursor:"pointer"},onClick:()=>{n(""),C(!0)},children:(0,S.jsx)(b,{fontSize:"small"})})]}),(0,S.jsxs)(d.ZP,{sx:{marginTop:"10px"},children:[t&&t.length>0&&!c&&t.map((e=>{var n,t,o,a,s;return(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"lot",children:["mois de ",e.demande.lot]}),(0,S.jsxs)(d.ZP,{container:!0,children:[(0,S.jsx)(d.ZP,{item:!0,lg:6,children:(0,S.jsx)(u.Z,{title:"Cliquez pour modifier la reponse",children:(0,S.jsxs)(m.Z,{className:"reponseClasse",onClick:()=>(P(e),void r(!0)),variant:"outlined",sx:{padding:"5px",cursor:"pointer"},children:[(0,S.jsxs)("p",{className:"code",children:[e.codeclient,";"]}),(0,S.jsxs)("p",{children:[e.nomClient," "]}),(0,S.jsx)("p",{children:"Statut du compte:"}),(0,S.jsxs)("p",{children:["statut client : ",(0,S.jsx)("span",{style:{fontWeight:"bolder"},children:e.clientStatut})]}),(0,S.jsxs)("p",{children:["statut payement : ",(0,S.jsx)("span",{style:{fontWeight:"bolder"},children:e.PayementStatut})]}),(0,S.jsxs)("p",{children:["consExpDays : ",e.consExpDays," jour(s)"]}),(0,S.jsxs)("p",{children:["C.O : ",e.co.nom]}),(0,S.jsxs)("p",{className:"retard",children:["Date ",(0,g.ou)(e.createdAt)," \xe0 ",e.createdAt.split("T")[1].split(":")[0],":",e.createdAt.split("T")[1].split(":")[1]]})]})})}),(0,S.jsx)(d.ZP,{item:!0,lg:6,children:(0,S.jsxs)(d.ZP,{container:!0,children:[(0,S.jsx)(d.ZP,{item:!0,lg:6,sx:{padding:"5px"},children:(0,S.jsx)(f.Z,{size:12,children:(0,S.jsx)(Z.Z,{width:100,height:150,src:"".concat(g.BP,"/").concat(e.demande.file),placeholder:(0,S.jsx)(Z.Z,{preview:!1,src:"".concat(g.BP,"/").concat(e.demande.file),width:200,height:100})})})}),(0,S.jsx)(d.ZP,{item:!0,lg:6,children:(0,S.jsxs)(d.ZP,{className:"reponseClasse",children:[(0,S.jsxs)(x.Z,{component:"p",children:["Client ",e.demande.statut,";",(0,S.jsxs)("p",{children:[" ","Feedback : ",(0,S.jsx)("span",{style:{fontWeight:"bolder"},children:null===(n=e.demande)||void 0===n?void 0:n.raison.toLowerCase()}),";"]}),(0,S.jsxs)("p",{children:[null===(t=e.demande)||void 0===t?void 0:t.sector,", ",null===(o=e.demande)||void 0===o?void 0:o.cell,", ",null===(a=e.demande)||void 0===a?void 0:a.sat,", ",e.demande.reference," "]})]}),(0,S.jsxs)("p",{children:[e.agent.fonction," ",e.agent.codeAgent,"; ",e.agent.nom,"; ",e.agent.telephone]}),(0,S.jsxs)("p",{children:["Numero joignable du client : ",null===(s=e.demande)||void 0===s?void 0:s.numero]}),(0,S.jsxs)("p",{className:"retard",children:["Date ",(0,g.ou)(e.demande.createdAt)," \xe0 ",e.demande.createdAt.split("T")[1].split(":")[0],":",e.demande.createdAt.split("T")[1].split(":")[1]]})]})})]})})]}),(0,S.jsx)("div",{className:"marge"})]},e._id)})),D&&(0,S.jsx)(w.Z,{open:i,setOpen:r,title:"Modification",children:(0,S.jsx)(v.Z,{update:D})})]})]})};var P=t(209478),k=t(571659);const N=function(){var e,n;const[t,a]=o.useState(""),[s,l]=o.useState(!1),[i,r]=o.useState();function c(e){let{item:n}=e;return(0,S.jsxs)("div",{className:"reponseListe",style:{paddingLeft:"30px"},children:[(0,S.jsx)("p",{children:n.codeclient}),(0,S.jsx)("p",{children:n.nomClient}),(0,S.jsxs)("p",{children:["Statut du client ;",n.clientStatut]}),(0,S.jsxs)("p",{children:["Statut payement ;",n.PayementStatut]}),(0,S.jsxs)("p",{children:["consExpDays : ",n.consExpDays," ","".concat(1===n.consExpDays?"Jour":"Jours")]}),(0,S.jsxs)("p",{children:[n.region,"/",n.shop]}),(0,S.jsx)("p",{children:null===n||void 0===n?void 0:n.codeCu})]})}function p(e){let{demandes:n}=e;return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:"demandeJsx",style:{textAlign:"justify",marginLeft:"10px"},children:[(0,S.jsxs)("span",{children:["code client : ",n.codeclient&&n.codeclient.toUpperCase()+"; "]}),(0,S.jsxs)("span",{children:["Secteur : ",n.sector+"; "]}),(0,S.jsxs)("span",{children:["Commune : ",n.commune+"; "]}),(0,S.jsxs)("span",{children:["Cell : ",n.cell+"; "]}),(0,S.jsxs)("span",{children:["R\xe9f\xe9rence : ",n.reference+"; "]}),(0,S.jsxs)("span",{children:["Num\xe9ro joignable du client: ",n.numero+"; "]}),(0,S.jsxs)("span",{children:["Statut du client : ","".concat("allumer "===n.statut?"allum\xe9":"\xe9teint ")," "]}),(0,S.jsx)("span",{children:n.raison.toLowerCase()+"; "}),(0,S.jsx)("p",{children:n.agent.nom+"....... "+n.agent.codeAgent}),(0,S.jsx)(k.Z,{demandes:n.messages})]})})}return console.log(i),(0,S.jsx)("div",{children:i&&201===i.status?(0,S.jsx)("p",{style:{textAlign:"center",color:"red"},children:i&&201===i.status&&i.data}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.ZP,{container:!0,sx:{marginBottom:"12px"},children:(0,S.jsx)(d.ZP,{item:!0,lg:12,children:(0,S.jsx)(j.default,{type:"text",disabled:s,value:t,onChange:e=>(e=>{e.preventDefault(),a(e.target.value),r()})(e),onKeyUp:e=>(async e=>{if(13===e.keyCode&&""!==t)try{l(!0);const e=await h.Z.get(g.V6+"/idDemande/".concat(t),g.vc);"token expired"===e.data?(localStorage.removeItem("auth"),window.location.replace("/login")):(r(e),l(!1))}catch(n){console.log(n)}})(e),placeholder:"Demande Id"})})}),(0,S.jsxs)(d.ZP,{container:!0,children:[(0,S.jsxs)(d.ZP,{item:!0,lg:8,sm:12,sx:12,children:[(0,S.jsx)("p",{style:{fontSize:"14px",fontWeight:"bolder"},children:"Demande"}),i&&201!==i.status&&i.data.demande.length>0&&(0,S.jsxs)(d.ZP,{sx:{display:"flex"},children:[(0,S.jsx)(f.Z,{size:12,children:(0,S.jsx)(Z.Z,{width:250,height:200,src:"".concat(g.BP,"/").concat(i.data.demande[0].file),placeholder:(0,S.jsx)(Z.Z,{preview:!1,src:"".concat(g.BP,"/").concat(i.data.demande[0].file),width:200})})}),(0,S.jsx)(p,{demandes:i.data.demande[0]})]})]}),(0,S.jsxs)(d.ZP,{item:!0,lg:4,children:[(0,S.jsx)("p",{style:{fontSize:"14px",fontWeight:"bolder",paddingLeft:"30px"},children:"R\xe9ponse"}),i&&(null===(e=i.data)||void 0===e||null===(n=e.demande[0])||void 0===n?void 0:n.reponse.length)>0?(0,S.jsx)(c,{item:i.data.demande[0].reponse[0]}):(0,S.jsx)("p",{style:{textAlign:"center",color:"red"},children:"La demande est en attente"})]})]}),(0,S.jsx)("div",{className:"marge",style:{marginTop:"5px"}})]})})};function W(){const[e,n]=o.useState(""),t=e=>{n(e)};return(0,S.jsxs)(P.Z,{children:[(0,S.jsxs)(a.Z,{sx:{display:"flex"},children:[(0,S.jsx)(l.Z,{sx:{m:3},component:"fieldset",variant:"standard",children:(0,S.jsx)(i.Z,{children:(0,S.jsx)(r.Z,{onClick:()=>t("codeclient"),control:(0,S.jsx)(c.Z,{checked:"codeclient"===e,name:"codeclient"}),label:"Code client"})})}),(0,S.jsxs)(l.Z,{component:"fieldset",sx:{m:3},variant:"standard",children:[(0,S.jsx)(s.Z,{component:"legend"}),(0,S.jsx)(i.Z,{children:(0,S.jsx)(r.Z,{onClick:()=>t("codevisite"),control:(0,S.jsx)(c.Z,{checked:"codevisite"===e,name:"codevisite"}),label:"ID de la visite"})})]})]}),(0,S.jsx)(a.Z,{children:"codeclient"===e&&(0,S.jsx)(D,{})}),(0,S.jsx)(a.Z,{children:"codevisite"===e&&(0,S.jsx)(N,{})})]})}},334811:(e,n,t)=>{t.d(n,{Z:()=>u});var o=t(747313),a=t(966149),s=t(896467),l=t(233604),i=t(850301),r=t(508586),c=t(261113),d=t(346417);const p=o.forwardRef((function(e,n){return(0,d.jsx)(i.Z,{direction:"up",ref:n,...e})}));const u=function(e){let{open:n,children:t,setOpen:o,title:i}=e;return(0,d.jsx)("div",{children:(0,d.jsxs)(a.Z,{open:n,TransitionComponent:p,keepMounted:!0,onClose:()=>{o(!1)},"aria-describedby":"alert-dialog-slide-description",children:[(0,d.jsxs)(l.Z,{style:{display:"flex",justifyContent:"space-between"},children:[(0,d.jsx)(c.Z,{children:i}),(0,d.jsx)(r.Z,{fontSize:"small",color:"secondary",style:{cursor:"pointer"},onClick:()=>o(!1)})]}),(0,d.jsx)(s.Z,{children:t})]})})}},508586:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(181171),a=t(346417);const s=(0,o.Z)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},435045:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(181171),a=t(346417);const s=(0,o.Z)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search")},896467:(e,n,t)=>{t.d(n,{Z:()=>x});var o=t(747313),a=t(683061),s=t(221921),l=t(617592),i=t(577342),r=t(177430),c=t(132298);function d(e){return(0,c.Z)("MuiDialogContent",e)}(0,r.Z)("MuiDialogContent",["root","dividers"]);var p=t(893174),u=t(346417);const m=(0,l.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.dividers&&n.dividers]}})((e=>{let{theme:n,ownerState:t}=e;return{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",...t.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((n.vars||n).palette.divider),borderBottom:"1px solid ".concat((n.vars||n).palette.divider)}:{[".".concat(p.Z.root," + &")]:{paddingTop:0}}}})),x=o.forwardRef((function(e,n){const t=(0,i.Z)({props:e,name:"MuiDialogContent"}),{className:o,dividers:l=!1,...r}=t,c={...t,dividers:l},p=(e=>{const{classes:n,dividers:t}=e,o={root:["root",t&&"dividers"]};return(0,s.Z)(o,d,n)})(c);return(0,u.jsx)(m,{className:(0,a.Z)(p.root,o),ownerState:c,ref:n,...r})}))},233604:(e,n,t)=>{t.d(n,{Z:()=>m});var o=t(747313),a=t(683061),s=t(221921),l=t(261113),i=t(617592),r=t(577342),c=t(893174),d=t(963909),p=t(346417);const u=(0,i.ZP)(l.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,n)=>n.root})({padding:"16px 24px",flex:"0 0 auto"}),m=o.forwardRef((function(e,n){const t=(0,r.Z)({props:e,name:"MuiDialogTitle"}),{className:l,id:i,...m}=t,x=t,h=(e=>{const{classes:n}=e;return(0,s.Z)({root:["root"]},c.a,n)})(x),{titleId:g=i}=o.useContext(d.Z);return(0,p.jsx)(u,{component:"h2",className:(0,a.Z)(h.root,l),ownerState:x,ref:n,variant:"h6",id:null!=i?i:g,...m})}))},893174:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>s});var o=t(177430),a=t(132298);function s(e){return(0,a.Z)("MuiDialogTitle",e)}const l=(0,o.Z)("MuiDialogTitle",["root"])},966149:(e,n,t)=>{t.d(n,{Z:()=>w});var o=t(747313),a=t(683061),s=t(221921),l=t(328334),i=t(691615),r=t(125673),c=t(632530),d=t(270501),p=t(577342),u=t(617592),m=t(177430),x=t(132298);function h(e){return(0,x.Z)("MuiDialog",e)}const g=(0,m.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var v=t(963909),j=t(91554),f=t(319860),Z=t(346417);const y=(0,u.ZP)(j.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(e,n)=>n.backdrop})({zIndex:-1}),C=(0,u.ZP)(r.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(e,n)=>n.root})({"@media print":{position:"absolute !important"}}),S=(0,u.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.container,n["scroll".concat((0,i.Z)(t.scroll))]]}})((e=>{let{ownerState:n}=e;return{height:"100%","@media print":{height:"auto"},outline:0,..."paper"===n.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},..."body"===n.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}})),b=(0,u.ZP)(d.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.paper,n["scrollPaper".concat((0,i.Z)(t.scroll))],n["paperWidth".concat((0,i.Z)(String(t.maxWidth)))],t.fullWidth&&n.paperFullWidth,t.fullScreen&&n.paperFullScreen]}})((e=>{let{theme:n,ownerState:t}=e;return{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},..."paper"===t.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},..."body"===t.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},...!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},..."xs"===t.maxWidth&&{maxWidth:"px"===n.breakpoints.unit?Math.max(n.breakpoints.values.xs,444):"max(".concat(n.breakpoints.values.xs).concat(n.breakpoints.unit,", 444px)"),["&.".concat(g.paperScrollBody)]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},...t.maxWidth&&"xs"!==t.maxWidth&&{maxWidth:"".concat(n.breakpoints.values[t.maxWidth]).concat(n.breakpoints.unit),["&.".concat(g.paperScrollBody)]:{[n.breakpoints.down(n.breakpoints.values[t.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},...t.fullWidth&&{width:"calc(100% - 64px)"},...t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(g.paperScrollBody)]:{margin:0,maxWidth:"100%"}}}})),w=o.forwardRef((function(e,n){const t=(0,p.Z)({props:e,name:"MuiDialog"}),r=(0,f.Z)(),u={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":m,"aria-labelledby":x,BackdropComponent:g,BackdropProps:j,children:w,className:D,disableEscapeKeyDown:P=!1,fullScreen:k=!1,fullWidth:N=!1,maxWidth:W="sm",onBackdropClick:E,onClose:T,open:M,PaperComponent:A=d.Z,PaperProps:z={},scroll:O="paper",TransitionComponent:R=c.Z,transitionDuration:L=u,TransitionProps:I,...B}=t,F={...t,disableEscapeKeyDown:P,fullScreen:k,fullWidth:N,maxWidth:W,scroll:O},V=(e=>{const{classes:n,scroll:t,maxWidth:o,fullWidth:a,fullScreen:l}=e,r={root:["root"],container:["container","scroll".concat((0,i.Z)(t))],paper:["paper","paperScroll".concat((0,i.Z)(t)),"paperWidth".concat((0,i.Z)(String(o))),a&&"paperFullWidth",l&&"paperFullScreen"]};return(0,s.Z)(r,h,n)})(F),U=o.useRef(),K=(0,l.Z)(x),_=o.useMemo((()=>({titleId:K})),[K]);return(0,Z.jsx)(C,{className:(0,a.Z)(V.root,D),closeAfterTransition:!0,components:{Backdrop:y},componentsProps:{backdrop:{transitionDuration:L,as:g,...j}},disableEscapeKeyDown:P,onClose:T,open:M,ref:n,onClick:e=>{U.current&&(U.current=null,E&&E(e),T&&T(e,"backdropClick"))},ownerState:F,...B,children:(0,Z.jsx)(R,{appear:!0,in:M,timeout:L,role:"presentation",...I,children:(0,Z.jsx)(S,{className:(0,a.Z)(V.container),onMouseDown:e=>{U.current=e.target===e.currentTarget},ownerState:F,children:(0,Z.jsx)(b,{as:A,elevation:24,role:"dialog","aria-describedby":m,"aria-labelledby":K,...z,className:(0,a.Z)(V.paper,z.className),ownerState:F,children:(0,Z.jsx)(v.Z.Provider,{value:_,children:w})})})})})}))},963909:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t(747313).createContext({})},983169:(e,n,t)=>{function o(e){return["small","middle","large"].includes(e)}function a(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}t.d(n,{T:()=>a,n:()=>o})},846968:(e,n,t)=>{t.d(n,{Z:()=>v});var o=t(747313),a=t(46123),s=t.n(a),l=t(514903),i=t(983169),r=t(74714),c=t(945531);const d=o.createContext({latestIndex:0}),p=d.Provider,u=e=>{let{className:n,index:t,children:a,split:s,style:l}=e;const{latestIndex:i}=o.useContext(d);return null===a||void 0===a?null:o.createElement(o.Fragment,null,o.createElement("div",{className:n,style:l},a),t<i&&s&&o.createElement("span",{className:"".concat(n,"-split")},s))};var m=t(71047),x=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(t[o[a]]=e[o[a]])}return t};const h=o.forwardRef(((e,n)=>{var t,a;const{getPrefixCls:c,space:d,direction:h}=o.useContext(r.E_),{size:g=(null===d||void 0===d?void 0:d.size)||"small",align:v,className:j,rootClassName:f,children:Z,direction:y="horizontal",prefixCls:C,split:S,style:b,wrap:w=!1,classNames:D,styles:P}=e,k=x(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[N,W]=Array.isArray(g)?g:[g,g],E=(0,i.n)(W),T=(0,i.n)(N),M=(0,i.T)(W),A=(0,i.T)(N),z=(0,l.Z)(Z,{keepEmpty:!0}),O=void 0===v&&"horizontal"===y?"center":v,R=c("space",C),[L,I]=(0,m.Z)(R),B=s()(R,null===d||void 0===d?void 0:d.className,I,"".concat(R,"-").concat(y),{["".concat(R,"-rtl")]:"rtl"===h,["".concat(R,"-align-").concat(O)]:O,["".concat(R,"-gap-row-").concat(W)]:E,["".concat(R,"-gap-col-").concat(N)]:T},j,f),F=s()("".concat(R,"-item"),null!==(t=null===D||void 0===D?void 0:D.item)&&void 0!==t?t:null===(a=null===d||void 0===d?void 0:d.classNames)||void 0===a?void 0:a.item);let V=0;const U=z.map(((e,n)=>{var t,a;null!==e&&void 0!==e&&(V=n);const s=e&&e.key||"".concat(F,"-").concat(n);return o.createElement(u,{className:F,key:s,index:n,split:S,style:null!==(t=null===P||void 0===P?void 0:P.item)&&void 0!==t?t:null===(a=null===d||void 0===d?void 0:d.styles)||void 0===a?void 0:a.item},e)})),K=o.useMemo((()=>({latestIndex:V})),[V]);if(0===z.length)return null;const _={};return w&&(_.flexWrap="wrap"),!T&&A&&(_.columnGap=N),!E&&M&&(_.rowGap=W),L(o.createElement("div",Object.assign({ref:n,className:B,style:Object.assign(Object.assign(Object.assign({},_),null===d||void 0===d?void 0:d.style),b)},k),o.createElement(p,{value:K},U)))}));const g=h;g.Compact=c.ZP;const v=g},919990:(e,n,t)=>{t.d(n,{Z:()=>r});var o=t(601413),a="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),s="aria-",l="data-";function i(e,n){return 0===e.indexOf(n)}function r(e){var n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n=!1===t?{aria:!0,data:!0,attr:!0}:!0===t?{aria:!0}:(0,o.Z)({},t);var r={};return Object.keys(e).forEach((function(t){(n.aria&&("role"===t||i(t,s))||n.data&&i(t,l)||n.attr&&a.includes(t))&&(r[t]=e[t])})),r}},208890:()=>{},421331:()=>{}}]);