"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[184],{137184:(e,i,n)=>{n.r(i),n.d(i,{default:()=>g});var s=n(747313),t=n(270501),r=n(542420),o=n(146482),l=n(371207),a=n(185554),d=n(334811),c=n(624631),u=n(369099),p=n(354535),h=n(846968),x=n(844730),j=n(346417);const f=function(e){let{raisonUpdate:i,id:n}=e;const[t,r]=s.useState(""),o=(0,a.v9)((e=>e.user)),l=(0,a.v9)((e=>e.raison)),d=(0,a.I0)();return s.useEffect((()=>{i&&n&&r(i)}),[n,i]),(0,j.jsxs)("div",{children:["success"===l.postRaison||"success"===l.updateRaison&&(0,j.jsx)(h.Z,{direction:"vertical",style:{width:"100%",marginBottom:"10px"},children:(0,j.jsx)(x.Z,{message:"Done",type:"success",showIcon:!0})}),"rejected"===l.postRaison&&(0,j.jsx)(h.Z,{direction:"vertical",style:{width:"100%",marginBottom:"10px"},children:(0,j.jsx)(x.Z,{message:l.postRaisonError,type:"error",showIcon:!0})}),"rejected"===l.updateRaison&&(0,j.jsx)(h.Z,{direction:"vertical",style:{width:"100%",marginBottom:"10px"},children:(0,j.jsx)(x.Z,{message:l.updateRaisonError,type:"error",showIcon:!0})}),(0,j.jsx)(c.Z,{fullWidth:!0,placeholder:"Raison",value:t,onChange:e=>r(e.target.value)}),(0,j.jsx)(u.Z,{fullWidth:!0,onClick:i?e=>(async e=>{e.preventDefault(),d((0,p.mA)({id:n,raison:t}))})(e):e=>(e=>{e.preventDefault();try{o&&"rejected"===o.readUser||(null===o||void 0===o?void 0:o.user.length)<1?(localStorage.removeItem("auth"),window.location.replace("/login")):d((0,p.GB)({raison:t,codeAgent:o.user.codeAgent}))}catch(i){console.log(i)}})(e),variant:"contained",color:"primary",sx:{marginTop:"10px"},children:i?"Modifier":"Enregistrer"})]})};const m=function(){const e=(0,a.v9)((e=>{var i;return null===(i=e.raison)||void 0===i?void 0:i.raison})),[i,n]=s.useState(!1),[t,c]=s.useState({id:null,raison:null}),u=[{field:"id",headerName:"ID",width:150,editable:!1},{field:"raison",headerName:"Raison",width:300,editable:!1},{field:"action",headerName:"Action",width:150,editable:!1,renderCell:e=>(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(r.Z,{onClick:i=>((e,i)=>{e.preventDefault(),c({id:i._id,raison:i.raison}),n(!0)})(i,e.row),size:"small",color:"primary",sx:{marginRight:"10px"},children:(0,j.jsx)(l.Z,{fontSize:"small"})})})}];return(0,j.jsxs)("div",{children:[e&&(0,j.jsx)(o._$,{rows:e,columns:u,initialState:{pagination:{paginationModel:{pageSize:7}}},pageSizeOptions:[7],checkboxSelection:!0,disableRowSelectionOnClick:!0}),null!==t.raison&&(0,j.jsx)(d.Z,{open:i,setOpen:n,title:"Modifier le feedback",children:(0,j.jsx)(f,{id:t.id,raisonUpdate:t.raison})})]})};var v=n(588551);const g=function(){const[e,i]=s.useState(!1);return(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,j.jsxs)(t.Z,{elevation:3,sx:{width:"70%",padding:"10px"},children:[(0,j.jsx)("div",{style:{display:"flex"},children:(0,j.jsx)(r.Z,{size:"medium",color:"primary",onClick:()=>i(!0),children:(0,j.jsx)(v.mm_,{fontSize:"small"})})}),(0,j.jsx)("div",{children:(0,j.jsx)(m,{})})]}),(0,j.jsx)(d.Z,{open:e,setOpen:i,title:"Ajoutez un feedback",children:(0,j.jsx)(f,{})})]})}},334811:(e,i,n)=>{n.d(i,{Z:()=>p});var s=n(747313),t=n(966149),r=n(896467),o=n(233604),l=n(850301),a=n(508586),d=n(261113),c=n(346417);const u=s.forwardRef((function(e,i){return(0,c.jsx)(l.Z,{direction:"up",ref:i,...e})}));const p=function(e){let{open:i,children:n,setOpen:s,title:l}=e;return(0,c.jsx)("div",{children:(0,c.jsxs)(t.Z,{open:i,TransitionComponent:u,keepMounted:!0,onClose:()=>{s(!1)},"aria-describedby":"alert-dialog-slide-description",children:[(0,c.jsxs)(o.Z,{style:{display:"flex",justifyContent:"space-between"},children:[(0,c.jsx)(d.Z,{children:l}),(0,c.jsx)(a.Z,{fontSize:"small",color:"secondary",style:{cursor:"pointer"},onClick:()=>s(!1)})]}),(0,c.jsx)(r.Z,{children:n})]})})}}}]);